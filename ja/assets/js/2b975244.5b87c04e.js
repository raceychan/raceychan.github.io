"use strict";(self.webpackChunkblogs=self.webpackChunkblogs||[]).push([[8422],{28453:(e,n,i)=>{i.d(n,{R:()=>t,x:()=>o});var r=i(96540);const s={},l=r.createContext(s);function t(e){const n=r.useContext(l);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:t(e.components),r.createElement(l.Provider,{value:n},e.children)}},36947:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>o,default:()=>u,frontMatter:()=>t,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"index","title":"\u30af\u30a4\u30c3\u30af\u30b9\u30bf\u30fc\u30c8","description":"Hello World","source":"@site/i18n/ja/docusaurus-plugin-content-docs/current/index.md","sourceDirName":".","slug":"/","permalink":"/ja/docs/","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"title":"\u30af\u30a4\u30c3\u30af\u30b9\u30bf\u30fc\u30c8","sidebar_position":1,"slug":"/"},"sidebar":"tutorialSidebar","next":{"title":"\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb","permalink":"/ja/docs/installation"}}');var s=i(74848),l=i(28453);const t={title:"\u30af\u30a4\u30c3\u30af\u30b9\u30bf\u30fc\u30c8",sidebar_position:1,slug:"/"},o="\u30af\u30a4\u30c3\u30af\u30b9\u30bf\u30fc\u30c8",a={},c=[{value:"Hello World",id:"hello-world",level:2},{value:"uvicorn\u3092\u4f7f\u7528\u3057\u3066\u30a2\u30d7\u30ea\u3092\u5b9f\u884c",id:"uvicorn\u3092\u4f7f\u7528\u3057\u3066\u30a2\u30d7\u30ea\u3092\u5b9f\u884c",level:3},{value:"\u3088\u308a\u5927\u304d\u306a\u30a2\u30d7\u30ea",id:"\u3088\u308a\u5927\u304d\u306a\u30a2\u30d7\u30ea",level:2},{value:"Python\u95a2\u6570\u3092\u5b9a\u7fa9",id:"python\u95a2\u6570\u3092\u5b9a\u7fa9",level:3},{value:"\u95a2\u6570\u3092\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u3068\u3057\u3066\u516c\u958b",id:"\u95a2\u6570\u3092\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u3068\u3057\u3066\u516c\u958b",level:3},{value:"\u30eb\u30fc\u30c8\u3092\u30a2\u30d7\u30ea\u306b\u542b\u3081\u308b",id:"\u30eb\u30fc\u30c8\u3092\u30a2\u30d7\u30ea\u306b\u542b\u3081\u308b",level:3},{value:"lihil\u3092\u4f7f\u7528\u3057\u3066\u30a2\u30d7\u30ea\u3092\u5b9f\u884c",id:"lihil\u3092\u4f7f\u7528\u3057\u3066\u30a2\u30d7\u30ea\u3092\u5b9f\u884c",level:3}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",...(0,l.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"\u30af\u30a4\u30c3\u30af\u30b9\u30bf\u30fc\u30c8",children:"\u30af\u30a4\u30c3\u30af\u30b9\u30bf\u30fc\u30c8"})}),"\n",(0,s.jsx)(n.h2,{id:"hello-world",children:"Hello World"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",metastring:'title="app/main.py"',children:'from lihil import Lihil, Text, Annotated\n\nlhl = Lihil()\n\n@lhl.get\ndef hello(world: str = "world") -> Annotated[Text, 200]:\n    return f"hello, {world}!"\n'})}),"\n",(0,s.jsx)(n.h3,{id:"uvicorn\u3092\u4f7f\u7528\u3057\u3066\u30a2\u30d7\u30ea\u3092\u5b9f\u884c",children:"uvicorn\u3092\u4f7f\u7528\u3057\u3066\u30a2\u30d7\u30ea\u3092\u5b9f\u884c"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"uvicorn app.main:lhl\n"})}),"\n",(0,s.jsx)(n.h2,{id:"\u3088\u308a\u5927\u304d\u306a\u30a2\u30d7\u30ea",children:"\u3088\u308a\u5927\u304d\u306a\u30a2\u30d7\u30ea"}),"\n",(0,s.jsx)(n.h3,{id:"python\u95a2\u6570\u3092\u5b9a\u7fa9",children:"Python\u95a2\u6570\u3092\u5b9a\u7fa9"}),"\n",(0,s.jsx)(n.p,{children:"\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3067\u30e6\u30fc\u30b6\u30fc\u3092\u4f5c\u6210\u3059\u308b\u95a2\u6570\u3092\u5b9a\u7fa9\u3059\u308b\u3053\u3068\u304b\u3089\u59cb\u3081\u307e\u3057\u3087\u3046\u3002"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",metastring:'title="app/users/api.py"',children:"from msgspec import Struct\nfrom sqlalchemy.ext.asyncio import AsyncEngine\nfrom .users.db import user_sql\n\nclass UserDB(UserData):\n    user_id: str\n\ndef get_engine() -> AsyncEngine:\n    return AsyncEngine()\n\nasync def create_user(user: UserData, engine: AsyncEngine) -> UserDB:\n    user_id = str(uuid4())\n    sql = user_sql(user=user, id_=user_id)\n    async with engine.begin() as conn:\n        await conn.execute(sql)\n    return UserDB.from_user(user, id=user_id)\n"})}),"\n",(0,s.jsx)(n.h3,{id:"\u95a2\u6570\u3092\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u3068\u3057\u3066\u516c\u958b",children:"\u95a2\u6570\u3092\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u3068\u3057\u3066\u516c\u958b"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",metastring:'title="app/users/api.py"',children:'from lihil import Route\n\nusers_route = Route("/users")\nusers_route.factory(get_engine)\nusers_route.post(create_user)\n'})}),"\n",(0,s.jsx)(n.p,{children:"\u308f\u305a\u304b3\u884c\u3067\u3001\u4ee5\u4e0b\u3092\u5b9f\u73fe\u3057\u307e\u3057\u305f\uff1a"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:'\u30d1\u30b9"/users"\u3067Route\u3092\u4f5c\u6210\u3002'}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"get_engine"}),"\u3092\u30d5\u30a1\u30af\u30c8\u30ea\u95a2\u6570\u3068\u3057\u3066\u4f7f\u7528\u3057\u3066",(0,s.jsx)(n.code,{children:"AsyncEngine"}),"\u3092\u4f9d\u5b58\u95a2\u4fc2\u3068\u3057\u3066\u767b\u9332\u3002"]}),"\n",(0,s.jsx)(n.li,{children:"create_user\u3092POST\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u3068\u3057\u3066\u767b\u9332\u3002"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"\u30eb\u30fc\u30c8\u3092\u30a2\u30d7\u30ea\u306b\u542b\u3081\u308b",children:"\u30eb\u30fc\u30c8\u3092\u30a2\u30d7\u30ea\u306b\u542b\u3081\u308b"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",metastring:'title="app/main.py"',children:'from lihil import Lihil\nfrom app.users.api import user_route\n\n\nlihil = Lihil(user_route)\n\nif __name__ == "__main__":\n    lihil.run(__file__)\n'})}),"\n",(0,s.jsx)(n.h3,{id:"lihil\u3092\u4f7f\u7528\u3057\u3066\u30a2\u30d7\u30ea\u3092\u5b9f\u884c",children:"lihil\u3092\u4f7f\u7528\u3057\u3066\u30a2\u30d7\u30ea\u3092\u5b9f\u884c"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"python -m app.main\n"})})]})}function u(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}}}]);