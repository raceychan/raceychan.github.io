"use strict";(self.webpackChunkblogs=self.webpackChunkblogs||[]).push([[1622],{13273:(e,t,o)=>{o.r(t),o.d(t,{default:()=>m});var l=o(96540),r=o(15318),i=o(56347);async function n(){return[{id:"raceychan",name:"raceychan",title:"author of lihil, a developer.",url:"https://github.com/raceychan",image_url:"https://github.com/raceychan.png",page:!0,socials:{x:"raceychan",github:"raceychan"}}]}async function s(){return[{id:"web-development",label:"web development",permalink:"/web-development",description:"Best practices of webdevlopment"},{id:"authentication",label:"authentication",permalink:"/authentication",description:"Authentication and authorization in web applications"},{id:"python",label:"python",permalink:"/python",description:"general dicussion about programming in python"}]}var a=o(71710),d=o.n(a),c=o(74848);function m(){const e=(0,i.W6)(),[t,o]=(0,l.useState)({title:"",description:"",authors:[],tags:[],content:"",tocMinLevel:2,tocMaxLevel:5}),[a,m]=(0,l.useState)([]),[h,g]=(0,l.useState)([]),[p,x]=(0,l.useState)(!1),[u,b]=(0,l.useState)(""),[j,f]=(0,l.useState)([]),[y,v]=(0,l.useState)(!1),[C,k]=(0,l.useState)(!1),[w,N]=(0,l.useState)(null),[B,S]=(0,l.useState)(!1),[L,R]=(0,l.useState)("");(0,l.useEffect)((()=>{(async()=>{try{const[e,t]=await Promise.all([n(),s()]);m(e),g(t),1===e.length&&o((t=>({...t,authors:[e[0].id]})))}catch(e){console.error("Failed to load authors/tags:",e)}})()}),[]);const T=(e,t)=>{o((o=>({...o,[e]:t})))},M=e=>{t.tags.includes(e)||o((t=>({...t,tags:[...t.tags,e]})))},H=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[\s_]+/g,"-").toLowerCase(),P=()=>{const e=new Date,o=`${e.toISOString().split("T")[0]+"T"+e.toISOString().split("T")[1].substring(0,5)}-${H(t.title)}`,l="content.md",r=`blog/${o}/${l}`;return{title:t.title,description:t.description||"No description",authors:t.authors.map((e=>a.find((t=>t.id===e))?.name||e)),tags:t.tags.map((e=>h.find((t=>t.id===e))?.label||e)),tocMinLevel:t.tocMinLevel,tocMaxLevel:t.tocMaxLevel,dirName:o,filename:l,fullPath:r,images:j,hasContent:!!t.content.trim()}},z=async()=>{const e=(()=>{const e=H(t.title),o=t.authors.length>0?`[${t.authors.join(", ")}]`:"[raceychan]",l=t.tags.length>0?`[${t.tags.join(", ")}]`:"[]";return`---\nslug: ${e}\ntitle: ${t.title}\nauthors: ${o}\ntags: ${l}\ntoc_min_heading_level: ${t.tocMinLevel}\ntoc_max_heading_level: ${t.tocMaxLevel}\n---\n\n${t.content}\n`})(),o=P();v(!1);try{const t=await(async(e,t)=>{const o=new(d()),l=e.dirName,r=o.folder(l);r?.file("content.md",t);const i=await o.generateAsync({type:"blob"}),n=URL.createObjectURL(i),s=document.createElement("a");return s.href=n,s.download=`${l}.zip`,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(n),{folderName:l,filesCreated:["content.md"]}})(o,e);N({...o,...t}),k(!0)}catch(l){throw console.error("Failed to download blog post:",l),new Error("Failed to download blog post files. Please try again.")}};return(0,c.jsx)(r.A,{title:"Write New Blog Post",description:"Create a new blog post",children:(0,c.jsx)("div",{className:"container margin-vert--lg",children:(0,c.jsx)("div",{className:"row",children:(0,c.jsxs)("div",{className:"col col--8 col--offset-2",children:[(0,c.jsx)("h1",{children:" New Blog Post"}),(0,c.jsxs)("div",{className:"margin-bottom--lg",children:[(0,c.jsx)("label",{className:"margin-bottom--sm",style:{display:"block",fontWeight:"bold"},children:"Title *"}),(0,c.jsx)("input",{type:"text",className:"form-control",style:{width:"100%",padding:"0.75rem",border:"1px solid var(--ifm-color-emphasis-300)",borderRadius:"6px",fontSize:"1rem"},value:t.title,onChange:e=>T("title",e.target.value),placeholder:"Enter your blog post title"})]}),(0,c.jsxs)("div",{className:"margin-bottom--lg",children:[(0,c.jsx)("label",{className:"margin-bottom--sm",style:{display:"block",fontWeight:"bold"},children:"Description"}),(0,c.jsx)("textarea",{className:"form-control",style:{width:"100%",padding:"0.75rem",border:"1px solid var(--ifm-color-emphasis-300)",borderRadius:"6px",fontSize:"1rem",minHeight:"80px"},value:t.description,onChange:e=>T("description",e.target.value),placeholder:"Brief description of your post"})]}),(0,c.jsxs)("div",{className:"margin-bottom--lg",children:[(0,c.jsx)("label",{className:"margin-bottom--sm",style:{display:"block",fontWeight:"bold"},children:"Authors"}),(0,c.jsx)("div",{style:{marginBottom:"0.5rem"},children:t.authors.map((e=>{const t=a.find((t=>t.id===e));return t?(0,c.jsxs)("span",{className:"badge badge--primary",style:{marginRight:"0.5rem",cursor:a.length>1?"pointer":"default"},onClick:a.length>1?()=>(e=>{o((t=>({...t,authors:t.authors.filter((t=>t!==e))})))})(e):void 0,children:[t.name," ",a.length>1?"\xd7":""]},e):null}))}),a.length>1&&(0,c.jsxs)("select",{style:{width:"100%",padding:"0.75rem",border:"1px solid var(--ifm-color-emphasis-300)",borderRadius:"6px",fontSize:"1rem"},value:"",onChange:e=>{var l;e.target.value&&(l=e.target.value,t.authors.includes(l)||o((e=>({...e,authors:[...e.authors,l]}))))},children:[(0,c.jsx)("option",{value:"",children:"Select an author..."}),a.filter((e=>!t.authors.includes(e.id))).map((e=>(0,c.jsxs)("option",{value:e.id,children:[e.name," - ",e.title]},e.id)))]})]}),(0,c.jsxs)("div",{className:"margin-bottom--lg",children:[(0,c.jsx)("label",{className:"margin-bottom--sm",style:{display:"block",fontWeight:"bold"},children:"Tags"}),(0,c.jsx)("div",{style:{marginBottom:"0.5rem"},children:t.tags.map((e=>{const t=h.find((t=>t.id===e));return t?(0,c.jsxs)("span",{className:"badge badge--secondary",style:{marginRight:"0.5rem",cursor:"pointer"},onClick:()=>(e=>{o((t=>({...t,tags:t.tags.filter((t=>t!==e))})))})(e),children:[t.label," \xd7"]},e):null}))}),h.length>1?(0,c.jsxs)("select",{style:{width:"100%",padding:"0.75rem",border:"1px solid var(--ifm-color-emphasis-300)",borderRadius:"6px",fontSize:"1rem"},value:"",onChange:e=>{e.target.value&&M(e.target.value)},children:[(0,c.jsx)("option",{value:"",children:"Select a tag..."}),h.filter((e=>!t.tags.includes(e.id))).map((e=>(0,c.jsxs)("option",{value:e.id,children:[e.label," - ",e.description]},e.id)))]}):1!==h.length||t.tags.includes(h[0].id)?null:(0,c.jsxs)("button",{type:"button",className:"button button--outline button--secondary",onClick:()=>M(h[0].id),children:['Add "',h[0].label,'" tag']})]}),(0,c.jsxs)("div",{className:"row margin-bottom--lg",children:[(0,c.jsxs)("div",{className:"col col--6",children:[(0,c.jsx)("label",{className:"margin-bottom--sm",style:{display:"block",fontWeight:"bold"},children:"TOC Min Heading Level"}),(0,c.jsxs)("select",{style:{width:"100%",padding:"0.75rem",border:"1px solid var(--ifm-color-emphasis-300)",borderRadius:"6px",fontSize:"1rem"},value:t.tocMinLevel,onChange:e=>T("tocMinLevel",parseInt(e.target.value)),children:[(0,c.jsx)("option",{value:1,children:"H1"}),(0,c.jsx)("option",{value:2,children:"H2"}),(0,c.jsx)("option",{value:3,children:"H3"}),(0,c.jsx)("option",{value:4,children:"H4"}),(0,c.jsx)("option",{value:5,children:"H5"}),(0,c.jsx)("option",{value:6,children:"H6"})]})]}),(0,c.jsxs)("div",{className:"col col--6",children:[(0,c.jsx)("label",{className:"margin-bottom--sm",style:{display:"block",fontWeight:"bold"},children:"TOC Max Heading Level"}),(0,c.jsxs)("select",{style:{width:"100%",padding:"0.75rem",border:"1px solid var(--ifm-color-emphasis-300)",borderRadius:"6px",fontSize:"1rem"},value:t.tocMaxLevel,onChange:e=>T("tocMaxLevel",parseInt(e.target.value)),children:[(0,c.jsx)("option",{value:1,children:"H1"}),(0,c.jsx)("option",{value:2,children:"H2"}),(0,c.jsx)("option",{value:3,children:"H3"}),(0,c.jsx)("option",{value:4,children:"H4"}),(0,c.jsx)("option",{value:5,children:"H5"}),(0,c.jsx)("option",{value:6,children:"H6"})]})]})]}),(0,c.jsxs)("div",{className:"margin-bottom--lg",children:[(0,c.jsx)("label",{className:"margin-bottom--sm",style:{display:"block",fontWeight:"bold"},children:"Content"}),(0,c.jsx)("div",{style:{marginBottom:"1rem"},children:(0,c.jsx)("button",{type:"button",className:"button button--primary button--lg",onClick:()=>x(!0),style:{backgroundColor:"#25c2a0",borderColor:"#25c2a0",fontWeight:"bold",padding:"0.75rem 1.5rem",fontSize:"1.1rem"},children:"\ud83d\udcf7 Add Image to Post"})}),j.length>0&&(0,c.jsxs)("div",{style:{marginBottom:"1rem",padding:"1rem",backgroundColor:"#f8f9fa",border:"1px solid #e0e0e0",borderRadius:"6px"},children:[(0,c.jsxs)("strong",{style:{display:"block",marginBottom:"0.5rem",color:"#25c2a0"},children:["\ud83d\udcf7 Images Added (",j.length,"):"]}),(0,c.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem"},children:j.map(((e,t)=>(0,c.jsx)("span",{style:{backgroundColor:"#25c2a0",color:"white",padding:"0.25rem 0.5rem",borderRadius:"4px",fontSize:"0.875rem",fontFamily:"monospace"},children:e},t)))}),(0,c.jsx)("small",{style:{display:"block",marginTop:"0.5rem",color:"#666"},children:"These images will be included in your blog post folder when created."})]}),(0,c.jsx)("textarea",{className:"form-control",style:{width:"100%",padding:"0.75rem",border:"1px solid var(--ifm-color-emphasis-300)",borderRadius:"6px",fontSize:"1rem",minHeight:"300px",fontFamily:"monospace"},value:t.content,onChange:e=>T("content",e.target.value),placeholder:"Write your blog post content here using Markdown..."})]}),(0,c.jsxs)("div",{className:"margin-bottom--lg",children:[(0,c.jsx)("button",{className:"button button--primary button--lg margin-right--md",onClick:()=>{v(!0)},disabled:!t.title,children:"Create Blog Post"}),(0,c.jsx)("button",{className:"button button--secondary button--lg",onClick:()=>e.goBack(),children:"Cancel"})]}),(0,c.jsxs)("div",{className:"alert alert--info",children:[(0,c.jsx)("strong",{children:"Preview:"})," The blog post will be saved as a Markdown file that you can move to your ",(0,c.jsx)("code",{children:"blog/"})," directory."]}),p&&(0,c.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.9)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e4,backdropFilter:"blur(4px)"},onClick:e=>{e.target===e.currentTarget&&(x(!1),b(""))},children:(0,c.jsxs)("div",{style:{backgroundColor:"#ffffff",color:"#000000",padding:"2rem",borderRadius:"12px",width:"90%",maxWidth:"500px",border:"2px solid #e0e0e0",boxShadow:"0 20px 40px rgba(0,0,0,0.5)",position:"relative"},onClick:e=>e.stopPropagation(),children:[(0,c.jsx)("h3",{style:{color:"#000000",marginBottom:"1.5rem"},children:"Add Image to Post"}),(0,c.jsxs)("div",{className:"margin-bottom--md",children:[(0,c.jsx)("label",{className:"margin-bottom--sm",style:{display:"block",fontWeight:"bold",color:"#000000"},children:"Image URL"}),(0,c.jsx)("input",{type:"url",style:{width:"100%",padding:"0.75rem",border:"1px solid #e0e0e0",borderRadius:"6px",fontSize:"1rem",color:"#000000",backgroundColor:"#ffffff"},value:u,onChange:e=>b(e.target.value),placeholder:"https://example.com/image.jpg"})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("button",{className:"button button--primary margin-right--sm",onClick:async()=>{if(u.trim())try{const e=u.split("/"),t=e[e.length-1],l=t.includes(".")?t.split(".").pop():"jpg",r=t.includes(".")?t:`image-${j.length+1}.${l}`;f((e=>[...e,r])),b(""),x(!1);const i=`\n\n![${r}](${u})\n\n`;o((e=>({...e,content:e.content+i}))),R(r),S(!0)}catch(e){alert("Failed to process image. Please check the URL.")}},disabled:!u.trim(),style:{marginRight:"1rem"},children:"Add Image"}),(0,c.jsx)("button",{className:"button button--secondary",onClick:()=>{x(!1),b("")},children:"Cancel"})]})]})}),(()=>{if(!y)return null;const e=P();return(0,c.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.9)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e4,backdropFilter:"blur(4px)"},onClick:e=>{e.target===e.currentTarget&&v(!1)},children:(0,c.jsxs)("div",{style:{backgroundColor:"#ffffff",color:"#000000",padding:"2rem",borderRadius:"12px",width:"90%",maxWidth:"700px",border:"2px solid #e0e0e0",maxHeight:"80vh",overflowY:"auto",boxShadow:"0 20px 40px rgba(0,0,0,0.5)",position:"relative"},onClick:e=>e.stopPropagation(),children:[(0,c.jsx)("h3",{style:{color:"#000000",marginBottom:"1.5rem"},children:"Blog Post Preview"}),(0,c.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,c.jsx)("strong",{children:"Title:"})," ",e.title]}),(0,c.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,c.jsx)("strong",{children:"Description:"})," ",e.description]}),(0,c.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,c.jsx)("strong",{children:"Authors:"})," ",e.authors.length>0?e.authors.join(", "):"raceychan (default)"]}),(0,c.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,c.jsx)("strong",{children:"Tags:"})," ",e.tags.length>0?e.tags.join(", "):"None"]}),(0,c.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,c.jsx)("strong",{children:"TOC Levels:"})," H",e.tocMinLevel," to H",e.tocMaxLevel]}),(0,c.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,c.jsx)("strong",{children:"Content:"})," ",e.hasContent?"Yes":"No content provided"]}),e.images.length>0&&(0,c.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,c.jsx)("strong",{children:"Images:"}),(0,c.jsx)("ul",{children:e.images.map(((e,t)=>(0,c.jsx)("li",{children:e},t)))})]}),(0,c.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,c.jsx)("strong",{children:"File Path:"})," ",(0,c.jsx)("code",{children:e.fullPath})]}),(0,c.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,c.jsx)("strong",{children:"Directory to Create:"})," ",(0,c.jsxs)("code",{children:["blog/",e.dirName,"/"]})]}),(0,c.jsx)("div",{style:{padding:"1rem",backgroundColor:"#e3f2fd",borderRadius:"6px",marginBottom:"1.5rem",border:"1px solid #bbdefb"},children:(0,c.jsxs)("small",{style:{color:"#000000"},children:[(0,c.jsx)("strong",{children:"\ud83d\udcc1 Folder Download:"}),(0,c.jsx)("br",{}),"A zip file containing the blog post folder structure will be downloaded."]})}),(0,c.jsxs)("div",{children:[(0,c.jsx)("button",{className:"button button--success margin-right--sm",onClick:z,style:{marginRight:"1rem"},children:"\ud83d\udcc1 Create & Download Folder"}),(0,c.jsx)("button",{className:"button button--secondary",onClick:()=>v(!1),children:"Back to Edit"})]})]})})})(),B&&L?(0,c.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.9)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e4,backdropFilter:"blur(4px)"},onClick:e=>{e.target===e.currentTarget&&S(!1)},children:(0,c.jsxs)("div",{style:{backgroundColor:"#ffffff",color:"#000000",padding:"2rem",borderRadius:"12px",width:"90%",maxWidth:"500px",border:"2px solid #25c2a0",boxShadow:"0 20px 40px rgba(0,0,0,0.5)",position:"relative"},onClick:e=>e.stopPropagation(),children:[(0,c.jsx)("h3",{style:{color:"#25c2a0",marginBottom:"1.5rem"},children:"\u2705 Image Added Successfully!"}),(0,c.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,c.jsx)("strong",{children:"Image Name:"})," ",(0,c.jsx)("code",{children:L})]}),(0,c.jsx)("div",{style:{padding:"1rem",backgroundColor:"#e8f5e8",borderRadius:"6px",marginBottom:"1.5rem",border:"1px solid #25c2a0"},children:(0,c.jsxs)("small",{style:{color:"#000000"},children:[(0,c.jsx)("strong",{children:"\ud83d\udcf7 Next Steps:"}),(0,c.jsx)("br",{}),"1. The image markdown has been added to your post content",(0,c.jsx)("br",{}),"2. When you create the blog post, place ",(0,c.jsx)("code",{children:L})," in the blog post folder",(0,c.jsx)("br",{}),"3. The image will be referenced as: ",(0,c.jsxs)("code",{children:["![",L,"](",L,")"]})]})}),(0,c.jsx)("div",{children:(0,c.jsx)("button",{className:"button button--primary button--lg",onClick:()=>S(!1),children:"Continue Writing"})})]})}):null,C&&w?(0,c.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.9)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e4,backdropFilter:"blur(4px)"},onClick:e=>{e.target===e.currentTarget&&k(!1)},children:(0,c.jsxs)("div",{style:{backgroundColor:"#ffffff",color:"#000000",padding:"2rem",borderRadius:"12px",width:"90%",maxWidth:"700px",border:"2px solid #4caf50",maxHeight:"80vh",overflowY:"auto",boxShadow:"0 20px 40px rgba(0,0,0,0.5)",position:"relative"},onClick:e=>e.stopPropagation(),children:[(0,c.jsx)("h3",{style:{color:"#4caf50",marginBottom:"1.5rem"},children:"\u2705 Blog Post Created Successfully!"}),(0,c.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,c.jsx)("strong",{children:"Downloaded:"})," ",(0,c.jsxs)("code",{children:[w.folderName,".zip"]})]}),(0,c.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,c.jsx)("strong",{children:"Folder Name:"})," ",(0,c.jsx)("code",{children:w.folderName})]}),(0,c.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,c.jsx)("strong",{children:"Files Created:"}),(0,c.jsx)("ul",{style:{marginTop:"0.5rem",paddingLeft:"1.5rem"},children:w.filesCreated.map(((e,t)=>(0,c.jsx)("li",{children:(0,c.jsx)("code",{children:e})},t)))})]}),(0,c.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,c.jsx)("strong",{children:"Blog Post Details:"}),(0,c.jsxs)("ul",{style:{marginTop:"0.5rem",paddingLeft:"1.5rem"},children:[(0,c.jsxs)("li",{children:[(0,c.jsx)("strong",{children:"Title:"})," ",w.title]}),(0,c.jsxs)("li",{children:[(0,c.jsx)("strong",{children:"Authors:"})," ",w.authors.join(", ")||"raceychan (default)"]}),(0,c.jsxs)("li",{children:[(0,c.jsx)("strong",{children:"Tags:"})," ",w.tags.join(", ")||"None"]}),(0,c.jsxs)("li",{children:[(0,c.jsx)("strong",{children:"TOC Levels:"})," H",w.tocMinLevel," to H",w.tocMaxLevel]})]})]}),(0,c.jsx)("div",{style:{padding:"1rem",backgroundColor:"#e8f5e8",borderRadius:"6px",marginBottom:"1.5rem",border:"1px solid #4caf50"},children:(0,c.jsxs)("small",{style:{color:"#000000"},children:[(0,c.jsx)("strong",{children:"\ud83d\udcc2 Next Steps:"}),(0,c.jsx)("br",{}),"1. Extract the downloaded zip file",(0,c.jsx)("br",{}),"2. Move the ",(0,c.jsxs)("code",{children:[w.folderName,"/"]})," folder to your ",(0,c.jsx)("code",{children:"blog/"})," directory",(0,c.jsx)("br",{}),"3. Replace any image placeholder files with actual images",(0,c.jsx)("br",{}),"4. Your blog post will be available at: ",(0,c.jsxs)("code",{children:["blog/",w.folderName,"/"]})]})}),(0,c.jsxs)("div",{children:[(0,c.jsx)("button",{className:"button button--primary button--lg margin-right--sm",onClick:()=>{k(!1),o({title:"",description:"",authors:[],tags:[],content:"",tocMinLevel:2,tocMaxLevel:5}),f([])},style:{marginRight:"1rem"},children:"Create Another Post"}),(0,c.jsx)("button",{className:"button button--secondary button--lg",onClick:()=>k(!1),children:"Close"})]})]})}):null]})})})})}}}]);