"use strict";(self.webpackChunkblogs=self.webpackChunkblogs||[]).push([[3381],{21901:(n,e,i)=>{i.r(e),i.d(e,{assets:()=>l,contentTitle:()=>r,default:()=>u,frontMatter:()=>o,metadata:()=>t,toc:()=>p});const t=JSON.parse('{"id":"advance/plugin/supabase","title":"supabase","description":"Supabase Integration (Auth Support)","source":"@site/docs/advance/plugin/supabase.md","sourceDirName":"advance/plugin","slug":"/advance/plugin/supabase","permalink":"/docs/advance/plugin/supabase","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"supabase"},"sidebar":"tutorialSidebar","previous":{"title":"event","permalink":"/docs/advance/plugin/message bus"},"next":{"title":"throttling","permalink":"/docs/advance/plugin/throttling"}}');var s=i(74848),a=i(28453);const o={title:"supabase"},r=void 0,l={},p=[{value:"Supabase Integration (Auth Support)",id:"supabase-integration-auth-support",level:2}];function c(n){const e={code:"code",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,a.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.h2,{id:"supabase-integration-auth-support",children:"Supabase Integration (Auth Support)"}),"\n",(0,s.jsx)(e.p,{children:"lihil is introducing support for Supabase, starting with user authentication. With just a single line of code:"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-python",children:'app.include_routes(signin_route_factory(route_path="/login"))\n'})}),"\n",(0,s.jsx)(e.p,{children:"you can integrate a working login endpoint backed by Supabase Auth."}),"\n",(0,s.jsx)(e.p,{children:"Full code example"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-python",children:'\nfrom supabase import AsyncClient\n\nfrom lihil import Lihil\nfrom lihil.config import AppConfig, lhl_get_config, lhl_read_config\nfrom lihil.plugins.auth.supabase import signin_route_factory\n\n\nclass ProjectConfig(AppConfig, kw_only=True):\n    SUPABASE_URL: str\n    SUPABASE_API_KEY: str\n\n\ndef supabase_factory() -> AsyncClient:\n    config = lhl_get_config(config_type=ProjectConfig)\n    return AsyncClient(\n        supabase_url=config.SUPABASE_URL, supabase_key=config.SUPABASE_API_KEY\n    )\n\n\nasync def lifespan(app: Lihil):\n    app.config = lhl_read_config(".env", config_type=ProjectConfig) # read config from .env file as convert it to `ProjectConfig` object.\n    app.graph.analyze(supabase_factory) # register an example factory function for supabase.AsyncClient\n    app.include_routes(signin_route_factory(route_path="/login"))\n    yield\n\n\nlhl = Lihil(lifespan=lifespan)\n\nif __name__ == "__main__":\n    lhl.run(__file__)\n'})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"The current plugin supports both email/phone-password authentication flows using Supabase's AsyncClient. It handles form parsing, dependency injection, and error responses automatically \u2014 all while staying fully type-safe and composable."}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:"This is just the beginning. While the current support is limited to basic login and signup endpoints, future releases will expand support to other features in Supabase such as:"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"User management"}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"Session handling"}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"Authorization rules"}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"Realtime and database integration"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:"The goal is to offer a seamless, idiomatic experience for integrating Supabase with lihil, without boilerplate or workarounds."})]})}function u(n={}){const{wrapper:e}={...(0,a.R)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(c,{...n})}):c(n)}},28453:(n,e,i)=>{i.d(e,{R:()=>o,x:()=>r});var t=i(96540);const s={},a=t.createContext(s);function o(n){const e=t.useContext(a);return t.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function r(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:o(n.components),t.createElement(a.Provider,{value:e},n.children)}}}]);