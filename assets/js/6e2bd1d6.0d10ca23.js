"use strict";(self.webpackChunkblogs=self.webpackChunkblogs||[]).push([[871],{23607:(e,s,i)=>{i.r(s),i.d(s,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>t,metadata:()=>n,toc:()=>c});const n=JSON.parse('{"id":"http/request/cookie","title":"cookie","description":"HTTP cookies are small pieces of data stored in the user\'s browser and automatically sent with every request to the same origin. They are primarily used for session management, user preferences, and tracking.","source":"@site/docs/http/request/cookie.md","sourceDirName":"http/request","slug":"/http/request/cookie-parameter","permalink":"/docs/http/request/cookie-parameter","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":3.1,"frontMatter":{"sidebar_position":3.1,"title":"cookie","slug":"cookie-parameter"},"sidebar":"tutorialSidebar","previous":{"title":"header","permalink":"/docs/http/request/header-parameter"},"next":{"title":"body","permalink":"/docs/http/request/body-parameter"}}');var o=i(74848),r=i(28453);const t={sidebar_position:3.1,title:"cookie",slug:"cookie-parameter"},a="Cookie",l={},c=[{value:"What Do Cookie Parameters Look Like?",id:"what-do-cookie-parameters-look-like",level:2},{value:"When to use Cookies",id:"when-to-use-cookies",level:2},{value:"Declaring Cookies in lihil",id:"declaring-cookies-in-lihil",level:2},{value:"Type Conversion and Validation",id:"type-conversion-and-validation",level:2}];function d(e){const s={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(s.header,{children:(0,o.jsx)(s.h1,{id:"cookie",children:"Cookie"})}),"\n",(0,o.jsx)(s.p,{children:"HTTP cookies are small pieces of data stored in the user's browser and automatically sent with every request to the same origin. They are primarily used for session management, user preferences, and tracking."}),"\n",(0,o.jsx)(s.h2,{id:"what-do-cookie-parameters-look-like",children:"What Do Cookie Parameters Look Like?"}),"\n",(0,o.jsx)(s.pre,{children:(0,o.jsx)(s.code,{className:"language-http",children:"GET /dashboard HTTP/1.1\nHost: example.com\nCookie: session_id=abc123; theme=dark\n"})}),"\n",(0,o.jsxs)(s.p,{children:["Cookies are passed as a single header (",(0,o.jsx)(s.code,{children:"Cookie"}),") but internally contain multiple key=value pairs separated by semicolons."]}),"\n",(0,o.jsx)(s.h2,{id:"when-to-use-cookies",children:"When to use Cookies"}),"\n",(0,o.jsx)(s.p,{children:"Unlike headers or query parameters, which are set per request, cookies provide a way to persist user-specific state across multiple requests.\nHere are a few common use cases:"}),"\n",(0,o.jsxs)(s.ul,{children:["\n",(0,o.jsxs)(s.li,{children:["\n",(0,o.jsxs)(s.p,{children:[(0,o.jsx)(s.strong,{children:"Session ID"}),": Keeps users logged in by storing a session token (session_id)"]}),"\n"]}),"\n",(0,o.jsxs)(s.li,{children:["\n",(0,o.jsxs)(s.p,{children:[(0,o.jsx)(s.strong,{children:"CSRF Token"}),": Helps protect against cross-site request forgery attacks"]}),"\n"]}),"\n",(0,o.jsxs)(s.li,{children:["\n",(0,o.jsxs)(s.p,{children:[(0,o.jsx)(s.strong,{children:"User Preferences"}),": Stores UI settings like theme, language, or layout"]}),"\n"]}),"\n",(0,o.jsxs)(s.li,{children:["\n",(0,o.jsxs)(s.p,{children:[(0,o.jsx)(s.strong,{children:"Analytics and Tracking"}),": Stores user activity information for tools like Google Analytics"]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(s.h2,{id:"declaring-cookies-in-lihil",children:"Declaring Cookies in lihil"}),"\n",(0,o.jsxs)(s.p,{children:["In Lihil, you can declare cookies in the same way as headers or query parameters via ",(0,o.jsx)(s.code,{children:'Param("cookie")'}),"."]}),"\n",(0,o.jsx)(s.pre,{children:(0,o.jsx)(s.code,{className:"language-python",children:'from lihil import Route, Param\nfrom typing import Annotated\n\ndashboard = Route("/dashboard")\n\n@dashboard.get\nasync def show_dashboard(\n    session_id: Annotated[str, Param("cookie")],\n    theme: Annotated[str, Param("cookie")] = "light",\n):\n    return {"session": session_id, "theme": theme}\n'})}),"\n",(0,o.jsx)(s.p,{children:"In the example above:"}),"\n",(0,o.jsxs)(s.ul,{children:["\n",(0,o.jsxs)(s.li,{children:["\n",(0,o.jsxs)(s.p,{children:[(0,o.jsx)(s.code,{children:"session_id"})," is a required cookie"]}),"\n"]}),"\n",(0,o.jsxs)(s.li,{children:["\n",(0,o.jsxs)(s.p,{children:[(0,o.jsx)(s.code,{children:"theme"}),' is optional and falls back to "light" if not provided']}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(s.h2,{id:"type-conversion-and-validation",children:"Type Conversion and Validation"}),"\n",(0,o.jsx)(s.p,{children:"Just like with headers or query params, you can apply type annotations and validation constraints to cookies. For example:"}),"\n",(0,o.jsx)(s.pre,{children:(0,o.jsx)(s.code,{className:"language-python",children:'from lihil import Param\nfrom typing import Annotated\n\nuser_id: Annotated[int, Param("cookie", gt=0)]\n'})}),"\n",(0,o.jsxs)(s.p,{children:["This will ensure that the ",(0,o.jsx)(s.code,{children:"user_id"})," cookie is parsed as a positive integer. If parsing or validation fails, lihil will return a 422 Invalid Request."]}),"\n",(0,o.jsx)(s.p,{children:"In short, cookies provide a lightweight mechanism for storing and transmitting user-specific data. With lihil, extracting and validating cookie values is just as seamless as working with headers, path, or query parameters."})]})}function h(e={}){const{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,o.jsx)(s,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},28453:(e,s,i)=>{i.d(s,{R:()=>t,x:()=>a});var n=i(96540);const o={},r=n.createContext(o);function t(e){const s=n.useContext(r);return n.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function a(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:t(e.components),n.createElement(r.Provider,{value:s},e.children)}}}]);